<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        {# Run `composer require symfony/webpack-encore-bundle`
           and uncomment the following Encore helpers to start using Symfony UX #}
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    <body>
        {% block body %}
            {% for type, messages in app.session.flashBag.all %}
                {% for message in messages %}
                    <div class="alert alert-{{ type }}" role="alert">
                        {{ message|trans }}
                    </div>
                {% endfor %}
            {% endfor %}

        <nav id="navigation">
            {% block navigation %}
                {% if not app.user %}
                    {% block login_panel %}
                    <div id="log-reg-panel">
                            {{ knp_menu_render('loginMenu') }}
                    </div>
                    {% endblock %}
                {% else %}
                    {% block profile_panel %}
                    <div id="profile-panel">
                        {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('admin_panel') }}">Admin panel</a>
                        {% endif %}
                        <a href="{{ path('user', {'id': app.user.id}) }}">Moje konto</a>
                        <a href="{{ path('logout') }}">Wyloguj siÄ™</a>
                    </div>
                    {% endblock %}
                {% endif %}

                {{ knp_menu_render('mainMenu')}}
            {% endblock %}
        </nav>
        <div id="content">
            {% block content %}
            {% endblock %}
        </div>
        {% endblock %}
    </body>
</html>
